<tool id="pl.rank_genes_groups_violin" name="pl.rank_genes_groups_violin" version="1.3.1+galaxy1">
  <description>Plot ranking of genes for all tested comparisons.</description>
  <macros>
    <import>macros.xml</import>
  </macros>
  <expand macro="requirements"/>
  <command detect_errors="exit_code"><![CDATA[
        python $script_file
    ]]></command>
  <configfiles>
    <configfile name="script_file"><![CDATA[
import scanpy.api as sc
@CMD_set_figure_params
@CMD_read_inputs

sc.pl.rank_genes_groups_violin(
   adata = '$adata',
   groups = '$groups',
   n_genes = '$n_genes',
   gene_names = '$gene_names',
   gene_symbols = '$gene_symbols',
   use_raw = '$use_raw',
   split = '$split',
   scale = '$scale',
   strip = '$strip',
   jitter = '$jitter',
   size = '$size',
   show = '$show',
   save = '$save',
   ax = '$ax',)
]]></configfile>
  </configfiles>
  <inputs>
    <expand macro="inputs_anndata"/>
    <param name="groups" type="data" format="list of `str`" value="None" optional="true" label="groups" help="    List of group names."/>
    <param name="n_genes" type="int" value="" optional="true" label="n_genes" help="    Number of genes to show. Is ignored if `gene_names` is passed."/>
    <param name="gene_names" type="None" value="None" label="gene_names" help="    List of genes to plot. Is only useful if interested in a custom gene list,    which is not the result of :func:`scanpy.api.tl.rank_genes_groups`."/>
    <param name="gene_symbols" type="str" value="None" optional="true" label="gene_symbols" help="    Key for field in `.var` that stores gene symbols if you do not want to    use `.var_names` displayed in the plot."/>
    <param name="use_raw" type="bool" value="None" optional="true" label="use_raw" help="    Use `raw` attribute of `adata` if present. Defaults to the value that    was used in :func:`~scanpy.api.tl.rank_genes_groups`."/>
    <param name="split" type="bool" value="True" optional="true" label="split" help="    Whether to split the violins or not."/>
    <param name="scale" type="str" value="" optional="true" label="scale" help="    See `seaborn.violinplot`."/>
    <param name="strip" type="bool" value="True" optional="true" label="strip" help="    Show a strip plot on top of the violin plot."/>
    <param name="jitter" type="int" value="True" optional="true" label="jitter" help="    If set to 0, no points are drawn. See `seaborn.stripplot`."/>
    <param name="size" type="int" value="" optional="true" label="size" help="    Size of the jitter points."/>
    <param name="show" type="bool" value="None" optional="true" label="show" help="     Show the plot, do not return axis."/>
    <param name="save" type="bool" value="None" optional="true" label="save" help="    If `True` or a `str`, save the figure. A string is appended to the default    filename. Infer the filetype if ending on {'.pdf', '.png', '.svg'}."/>
    <param name="ax" type="matplotlib.Axes" value="None" optional="true" label="ax" help="    A matplotlib axes object. Only works if plotting a single component."/>
    <section name="pl_settings" title="Plot settings" expanded="false"><expand macro="inputs_set_figure_params"/></section></inputs>
  <outputs>
    </outputs>
  <tests>
    <test>
      <param name="groups" value=""/>
      <param name="n_genes" value=""/>
      <param name="gene_names" value=""/>
      <param name="gene_symbols" value=""/>
      <param name="use_raw" value=""/>
      <param name="split" value=""/>
      <param name="scale" value=""/>
      <param name="strip" value=""/>
      <param name="jitter" value=""/>
      <param name="size" value=""/>
      <param name="show" value=""/>
      <param name="save" value=""/>
      <param name="ax" value=""/>
      <expand macro="tests_set_figure_params"/>
    </test>
  </tests>
  <help><![CDATA[
        Plot ranking of genes for all tested comparisons.

Parameters
----------
adata : :class:`~anndata.AnnData`
    Annotated data matrix.
groups : list of `str`, optional (default: `None`)
    List of group names.
n_genes : `int`, optional (default: 20)
    Number of genes to show. Is ignored if `gene_names` is passed.
gene_names : `None` or list of `str` (default: `None`)
    List of genes to plot. Is only useful if interested in a custom gene list,
    which is not the result of :func:`scanpy.api.tl.rank_genes_groups`.
gene_symbols : `str`, optional (default: `None`)
    Key for field in `.var` that stores gene symbols if you do not want to
    use `.var_names` displayed in the plot.
use_raw : `bool`, optional (default: `None`)
    Use `raw` attribute of `adata` if present. Defaults to the value that
    was used in :func:`~scanpy.api.tl.rank_genes_groups`.
split : `bool`, optional (default: `True`)
    Whether to split the violins or not.
scale : `str`, optional (default: 'width')
    See `seaborn.violinplot`.
strip : `bool`, optional (default: `True`)
    Show a strip plot on top of the violin plot.
jitter : `int`, `float`, `bool`, optional (default: `True`)
    If set to 0, no points are drawn. See `seaborn.stripplot`.
size : `int`, optional (default: 1)
    Size of the jitter points.
show : `bool`, optional (default: `None`)
     Show the plot, do not return axis.
save : `bool` or `str`, optional (default: `None`)
    If `True` or a `str`, save the figure. A string is appended to the default
    filename. Infer the filetype if ending on {'.pdf', '.png', '.svg'}.
ax : `matplotlib.Axes`, optional (default: `None`)
    A matplotlib axes object. Only works if plotting a single component.
    ]]></help>
  <expand macro="citations"/>
</tool>

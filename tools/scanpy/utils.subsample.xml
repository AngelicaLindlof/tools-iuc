<tool id="utils.subsample" name="utils.subsample" version="1.3.1+galaxy1">
  <description>Subsample a fraction of 1/subsample samples from the rows of X.</description>
  <macros>
    <import>macros.xml</import>
  </macros>
  <expand macro="requirements"/>
  <command detect_errors="exit_code"><![CDATA[
        python $script_file
    ]]></command>
  <configfiles>
    <configfile name="script_file"><![CDATA[
import scanpy.api as sc



sc.utils.subsample(
   X = '$X',
   subsample = '$subsample',
   seed = '$seed',)
]]></configfile>
  </configfiles>
  <inputs>
    <param name="X" type="data" format="np.ndarray" value="" label="X" help="    Data array."/>
    <param name="subsample" type="data" format="int" value="" label="subsample" help="    1/subsample is the fraction of data sampled, n = X.shape[0]/subsample."/>
    <param name="seed" type="data" format="int" value="" label="seed" help="    Seed for sampling."/>
    </inputs>
  <outputs>
    <data name="Xsampled" type="data" format="np.ndarray" label="${tool.name} on ${on_string}: Xsampled"/>
    <data name="rows" type="data" format="np.ndarray" label="${tool.name} on ${on_string}: rows"/>
    </outputs>
  <tests>
    <test>
      <param name="X" value=""/>
      <param name="subsample" value=""/>
      <param name="seed" value=""/>
      <output name="Xsampled" file=""/>
      <output name="rows" file=""/>
    </test>
  </tests>
  <help><![CDATA[
        Subsample a fraction of 1/subsample samples from the rows of X.

Parameters
----------
X : np.ndarray
    Data array.
subsample : int
    1/subsample is the fraction of data sampled, n = X.shape[0]/subsample.
seed : int
    Seed for sampling.

Returns
-------
Xsampled : np.ndarray
    Subsampled X.
rows : np.ndarray
    Indices of rows that are stored in Xsampled.
    ]]></help>
  <expand macro="citations"/>
</tool>

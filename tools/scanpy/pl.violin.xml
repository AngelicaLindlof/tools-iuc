<tool id="pl.violin" name="pl.violin" version="1.3.1+galaxy1">
  <description>Violin plot.</description>
  <macros>
    <import>macros.xml</import>
  </macros>
  <expand macro="requirements"/>
  <command detect_errors="exit_code"><![CDATA[
        python $script_file
    ]]></command>
  <configfiles>
    <configfile name="script_file"><![CDATA[
import scanpy.api as sc
@CMD_set_figure_params
@CMD_read_inputs

sc.pl.violin(
   adata = '$adata',
   keys = '$keys',
   groupby = '$groupby',
   log = '$log',
   use_raw = '$use_raw',
   multi_panel = '$multi_panel',
   stripplot = '$stripplot',
   jitter = '$jitter',
   size = '$size',
   order = '$order',
   scale = '$scale',
   xlabel = '$xlabel',
   rotation = '$rotation',
   show = '$show',
   save = '$save',
   ax = '$ax',
   **kwds = '$**kwds',)
]]></configfile>
  </configfiles>
  <inputs>
    <expand macro="inputs_anndata"/>
    <param name="keys" type="str" value="" label="keys" help="    Keys for accessing variables of `.var_names` or fields of `.obs`."/>
    <param name="groupby" type="str" value="None" optional="true" label="groupby" help="    The key of the observation grouping to consider."/>
    <param name="log" type="bool" value="False" optional="true" label="log" help="    Plot on logarithmic axis."/>
    <param name="use_raw" type="bool" value="None" optional="true" label="use_raw" help="    Use `raw` attribute of `adata` if present."/>
    <param name="multi_panel" type="bool" value="False" optional="true" label="multi_panel" help="    Display keys in multiple panels also when `groupby is not None`."/>
    <param name="stripplot" type="bool" value="True" optional="true" label="stripplot" help="    Add a stripplot on top of the violin plot.    See `seaborn.stripplot`."/>
    <param name="jitter" type="float" value="True" optional="true" label="jitter" help="    Add jitter to the stripplot (only when stripplot is True)    See `seaborn.stripplot`."/>
    <param name="size" type="data" format="int" value="" optional="true" label="size" help="    Size of the jitter points."/>
    <param name="order" type="data" format="list of str" value="True" optional="true" label="order" help="    Order in which to show the categories."/>
    <param name="scale" type="data" format="{'area'" value="" optional="true" label="scale" help="    The method used to scale the width of each violin. If 'area', each    violin will have the same area. If 'count', the width of the violins    will be scaled by the number of observations in that bin. If 'width',    each violin will have the same width."/>
    <param name="xlabel" type="str" value="''" optional="true" label="xlabel" help="    Label of the x axis. Defaults to `groupby` if `rotation` is `None`,    otherwise, no label is shown."/>
    <param name="rotation" type="float" value="None" optional="true" label="rotation" help="    Rotation of xtick labels."/>
    <param name="show" type="bool" value="None" optional="true" label="show" help="     Show the plot, do not return axis."/>
    <param name="save" type="bool" value="None" optional="true" label="save" help="    If `True` or a `str`, save the figure. A string is appended to the default    filename. Infer the filetype if ending on {'.pdf', '.png', '.svg'}."/>
    <param name="ax" type="matplotlib.Axes" value="None" optional="true" label="ax" help="    A matplotlib axes object. Only works if plotting a single component."/>
    <param name="**kwds" type="data" format="keyword arguments" value="" label="**kwds" help="    Are passed to `seaborn.violinplot`."/>
    <section name="pl_settings" title="Plot settings" expanded="false"><expand macro="inputs_set_figure_params"/></section></inputs>
  <outputs>
    <data name="A `matplotlib.Axes` object if `ax` is `None` else `None`." type="data" format="" label="${tool.name} on ${on_string}: A `matplotlib.Axes` object if `ax` is `None` else `None`."/>
    </outputs>
  <tests>
    <test>
      <param name="keys" value=""/>
      <param name="groupby" value=""/>
      <param name="log" value=""/>
      <param name="use_raw" value=""/>
      <param name="multi_panel" value=""/>
      <param name="stripplot" value=""/>
      <param name="jitter" value=""/>
      <param name="size" value=""/>
      <param name="order" value=""/>
      <param name="scale" value=""/>
      <param name="xlabel" value=""/>
      <param name="rotation" value=""/>
      <param name="show" value=""/>
      <param name="save" value=""/>
      <param name="ax" value=""/>
      <param name="**kwds" value=""/>
      <expand macro="tests_set_figure_params"/>
      <output name="A `matplotlib.Axes` object if `ax` is `None` else `None`." file=""/>
    </test>
  </tests>
  <help><![CDATA[
        Violin plot.

Wraps `seaborn.violinplot` for :class:`~anndata.AnnData`.

Parameters
----------
adata : :class:`~anndata.AnnData`
    Annotated data matrix.
keys : `str` or list of `str`
    Keys for accessing variables of `.var_names` or fields of `.obs`.
groupby : `str` or `None`, optional (default: `None`)
    The key of the observation grouping to consider.
log : `bool`, optional (default: `False`)
    Plot on logarithmic axis.
use_raw : `bool`, optional (default: `None`)
    Use `raw` attribute of `adata` if present.
multi_panel : `bool`, optional (default: `False`)
    Display keys in multiple panels also when `groupby is not None`.
stripplot : `bool` optional (default: `True`)
    Add a stripplot on top of the violin plot.
    See `seaborn.stripplot`.
jitter : `float` or `bool`, optional (default: `True`)
    Add jitter to the stripplot (only when stripplot is True)
    See `seaborn.stripplot`.
size : int, optional (default: 1)
    Size of the jitter points.
order : list of str, optional (default: `True`)
    Order in which to show the categories.
scale : {'area', 'count', 'width'}, optional (default: 'width')
    The method used to scale the width of each violin. If 'area', each
    violin will have the same area. If 'count', the width of the violins
    will be scaled by the number of observations in that bin. If 'width',
    each violin will have the same width.
xlabel : `str`, optional (default: `''`)
    Label of the x axis. Defaults to `groupby` if `rotation` is `None`,
    otherwise, no label is shown.
rotation : `float`, optional (default: `None`)
    Rotation of xtick labels.
show : `bool`, optional (default: `None`)
     Show the plot, do not return axis.
save : `bool` or `str`, optional (default: `None`)
    If `True` or a `str`, save the figure. A string is appended to the default
    filename. Infer the filetype if ending on {'.pdf', '.png', '.svg'}.
ax : `matplotlib.Axes`, optional (default: `None`)
    A matplotlib axes object. Only works if plotting a single component.
**kwds : keyword arguments
    Are passed to `seaborn.violinplot`.

Returns
-------
A `matplotlib.Axes` object if `ax` is `None` else `None`.
    ]]></help>
  <expand macro="citations"/>
</tool>
